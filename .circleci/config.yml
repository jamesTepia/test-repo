version: 2.1
jobs:
  build:
    docker:
      - image: docker:20.10.11
    working_directory: ~/james
    steps:
      - checkout
      - run:
          name: Display the current active path
          command: |
            pwd
      - run:
          name: List the contents of the repo
          command: |
            ls -al
      - run:
          name: Start Docker
          command: |
            sudo service docker start
      - run:
          name: Build Docker image
          command: |
            docker build -t test .
      - run:
          name: Run command inside container
          command: |
            docker run test